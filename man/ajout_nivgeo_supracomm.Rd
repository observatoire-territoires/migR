% Generated by roxygen2: do not edit by hand
% Please edit documentation in R/ajout_nivgeo_supracomm.R
\name{ajout_nivgeo_supracomm}
\alias{ajout_nivgeo_supracomm}
\title{Ajouter un champ contenant un niveau géographique supra-communal}
\usage{
ajout_nivgeo_supracomm(TABLE, CODE_COMMUNE, SUFFIXE = "", COG_IN,
  COG_NIVGEO, NIVGEO)
}
\arguments{
\item{TABLE}{Table en entrée disposant a minima d'un champ de codes commune Insee.}

\item{CODE_COMMUNE}{Nom du champ de la table en entrée contenant le code commune Insee. Il peut contenir des codes arrondissements pour Paris, Lyon et Marseille (75101, 75102, etc...) ou non ('75056')}

\item{SUFFIXE}{Terme à ajouter en suffixe au nom du champ de niveau supra-communal ajouté à la table (facultatif).}

\item{COG_IN}{Millésime du Code Officiel Géographique du code commune en entrée (liste : cf. details ci-dessous). Le millésime du COG est indiqué dans les métadonnées des fichiers Insee, dans le fichier du RP d'année N il est généralement égal à N-2.}

\item{COG_NIVGEO}{Millésime du Code Officiel Géographique du code supra-communal en sortie (liste : cf. details ci-dessous).}

\item{NIVGEO}{Nom du niveau géographique supra-communal à ajouter (en format court, liste : cf. details ci-dessous). Peut être un vecteur contenant les noms de plusieurs niveaux.}
}
\value{
Renvoie une table avec un champ supplémentaire contenant le niveau géographique supra-communal.
}
\description{
Dans une table contenant un code commune Insee (avec ou sans arrondissements pour Paris, Lyon et Marseille), accoler à cette table un nouveau champ contenant le niveau supra-communal correspondant à cette commune.
}
\details{
Les millésimes du COG disponibles sont les suivants : 2008, 2009, 2010, 2011, 2012, 2013, 2014, 2015, 2016, 2017, 2018. \cr

Pour convertir un code commune d'un COG plus ancien, il est conseillé d'effectuer l'opération grâce au package 'COGugaison'. \cr

Les niveaux supra-communaux disponibles sont les suivants :
\itemize{
\item{Département ('DEP')}
\item{Région administrative ('REG')}
\item{Établissement public de coopération intercommunale ('EPCI')}
\item{Nature d'Établissement public de coopération intercommunale ('NATURE_EPCI')}
\item{Arrondissement ('ARR')}
\item{Canton-ou-ville ('CV')}
\item{Zone d'emploi ('ZE2010')}
\item{Unité Urbaine ('UU2010')}
\item{Tranche d'Unité Urbaine ('TUU2015')}
\item{Tranche détaillée d'Unité Urbaine ('TDUU2015')}
\item{Aire Urbaine ('AU2010')}
\item{Tranche d'aire urbaine ('TAU2015')}
\item{Zonage en Aires Urbaines ('CATAEU2010')}
\item{Bassin de vie ('BV2012')}
\item{Type de densité selon la grille de densité communale ('TYPEDENS')}}
}
\examples{
# Ajout du champ 'DEP' indiquant le niveau gÃ©ographique "dÃ©partement" Ã  une table ayant une information communale
COM_2012 <-
ajout_nivgeo_supracomm(TABLE = COM_2012 ,
CODE_COMMUNE = "CODGEO",
NIVGEO = "DEP",
COG_IN = 2010,
COG_NIVGEO = 2018)

# Ajout des niveaux gÃ©ographiques "dÃ©partement", "rÃ©gion" et "type de densitÃ©" depuis les champs "commune de rÃ©sidence actuelle" et "commune de rÃ©sidence antÃ©rieure"
FD_MIGCOM_2015  <- FD_MIGCOM_2015
ajout_nivgeo_supracomm(TABLE = . ,
                       CODE_COMMUNE = "DCRAN",
                       SUFFIXE = "ANTE",
                       NIVGEO= c("DEP",'EPCI','TYPEDENS'),
                       COG_IN = 2017, COG_NIVGEO = 2018) \%>\%
ajout_nivgeo_supracomm(TABLE = . ,
                       CODE_COMMUNE = "COMMUNE",
                       SUFFIXE = "ACTU",
                       NIVGEO= c("DEP",'EPCI','TYPEDENS'),
                       COG_IN = 2017, COG_NIVGEO = 2018)

}
\references{
\itemize{
\item{\href{https://antuki.github.io/COGugaison/articles/COGugaison.html}{Package 'COGugaison' pour gérer les changements de COG}}
\item{\href{https://www.insee.fr/fr/information/2666684#titre-bloc-11}{Historique des géographies communales (Insee)}}
\item{\href{https://www.insee.fr/fr/information/2028028}{Tables d'appartenance des communes aux différents niveaux géographiques (Insee)}}}
}
